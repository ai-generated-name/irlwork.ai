# =============================================================================
# irlwork.ai Environment Variables
# Copy this file to .env and fill in your values.
# Lines marked [Required] must be set for the app to function.
# Lines marked [Optional] have sensible defaults or graceful fallbacks.
# =============================================================================


# =============================================================================
# SUPABASE (Backend)                                              [Required]
# =============================================================================

# Your Supabase project URL (e.g. https://abcdefgh.supabase.co)
SUPABASE_URL=https://your-project.supabase.co

# Public anon key - used as fallback in api/lib/supabase.js
SUPABASE_ANON_KEY=your-supabase-anon-key

# Service role key - required for RLS bypass on the backend
# This key has FULL access to your database; never expose it to the browser.
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Alias for service role key (used in migration scripts)
SUPABASE_SERVICE_KEY=your-supabase-service-role-key


# =============================================================================
# SUPABASE (Frontend - Vite)                                      [Required]
#
# WARNING: VITE_ prefixed variables are embedded into the browser bundle
# at build time. Never put secrets here.
# NOTE: The codebase currently has hardcoded fallbacks for these in
# ui/src/App.jsx and ui/src/context/AuthContext.jsx. Those fallbacks
# should be removed in production.
# =============================================================================

# Frontend Supabase project URL
VITE_SUPABASE_URL=https://your-project.supabase.co

# Frontend Supabase anon (public) key
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key


# =============================================================================
# STRIPE (Backend)                                                [Required]
# =============================================================================

# Stripe secret key (starts with sk_test_ or sk_live_)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key

# Stripe publishable key (served to frontend via API endpoint)
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Stripe webhook signing secret (starts with whsec_)
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# Stripe subscription price IDs (create in Stripe Dashboard)
STRIPE_PRICE_BUILDER=price_xxx
STRIPE_PRICE_PRO=price_yyy
STRIPE_PRICE_BUILDER_ANNUAL=price_aaa
STRIPE_PRICE_PRO_ANNUAL=price_bbb


# =============================================================================
# STRIPE (Frontend - Vite)
#
# WARNING: This is embedded into the browser bundle at build time.
# =============================================================================

# Frontend Stripe publishable key
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key


# =============================================================================
# CLOUDFLARE R2 - Object Storage                                 [Optional]
# Falls back to storing base64-encoded files directly in the database.
# Multiple aliases exist in the codebase; set whichever group you prefer.
# =============================================================================

# Cloudflare account ID
R2_ACCOUNT_ID=your-cloudflare-account-id
# R2ID=your-cloudflare-account-id        # alias
# CLOUD_ID=your-cloudflare-account-id    # alias

# R2 access key
R2_ACCESS_KEY=your-r2-access-key
# R2KEY=your-r2-access-key               # alias
# CLOUD_KEY=your-r2-access-key           # alias

# R2 secret key
R2_SECRET_KEY=your-r2-secret-key
# R2SECRET=your-r2-secret-key            # alias
# CLOUD_SECRET=your-r2-secret-key        # alias

# R2 bucket name (default: irlwork-proofs)
R2_BUCKET=irlwork-proofs
# R2BUCKET=irlwork-proofs                # alias
# CLOUD_BUCKET=irlwork-proofs            # alias

# Public URL for serving uploaded files
R2_PUBLIC_URL=https://your-r2-public-url.example.com
# CLOUD_PUBLIC_URL=https://your-r2-public-url.example.com  # alias


# =============================================================================
# EMAIL (Resend)                                                  [Optional]
# Falls back to console.log when RESEND_API_KEY is not set.
# =============================================================================

# Resend API key for transactional email
RESEND_API_KEY=re_your-resend-api-key

# Sender address (default: noreply@irlwork.ai)
FROM_EMAIL=noreply@irlwork.ai


# =============================================================================
# SERVER                                                          [Optional]
# All values below have sensible defaults for local development.
# =============================================================================

# API server port (default: 3002)
PORT=3002

# Frontend origin used for CORS and redirect URLs
# Development default: http://localhost:5173
# Production default:  https://www.irlwork.ai
FRONTEND_URL=http://localhost:5173

# Comma-separated origins allowed by CORS
# Must include every origin that will call the API.
# Default: https://www.irlwork.ai,http://localhost:5173
CORS_ORIGINS=http://localhost:5173,http://localhost:3003

# Node environment (development | production)
NODE_ENV=development

# MCP server port (default: 3004)
MCP_PORT=3004


# =============================================================================
# RATING VISIBILITY SERVICE                                        [Optional]
# Controls the background service that makes blind ratings visible
# after 72 hours when only one party has rated.
# =============================================================================

# How often to check for ratings that should become visible (ms)
# Default: 3600000 (1 hour)
# RATING_VISIBILITY_INTERVAL_MS=3600000

# How long after creation before a solo rating becomes visible (ms)
# Default: 259200000 (72 hours)
# RATING_VISIBILITY_THRESHOLD_MS=259200000


# =============================================================================
# API URL (Frontend - Vite)                                       [Optional]
#
# WARNING: VITE_ prefixed variables are embedded into the browser bundle.
# =============================================================================

# Base URL for API calls from the frontend
# Default: https://api.irlwork.ai/api (production)
# Local dev: http://localhost:3002/api
VITE_API_URL=http://localhost:3002/api


# =============================================================================
# AUTH / ADMIN                                                    [Optional]
# =============================================================================

# Comma-separated Supabase user UUIDs that have admin access
ADMIN_USER_IDS=

# HMAC secret for API key generation (auto-generated if not set)
API_KEY_HMAC_SECRET=

# Platform fee percentage (hardcoded to 15 in api/config/constants.js;
# this env var is here for documentation only)
# PLATFORM_FEE_PERCENT=15


# =============================================================================
# MCP SERVER (Standalone)                                          [Optional]
# Only needed when running api/mcp-server.js as a standalone process.
# The in-process MCP endpoint (POST /api/mcp) uses the caller's API key.
# =============================================================================

# API key the standalone MCP server uses to authenticate against the API
IRLWORK_API_KEY=irl_sk_your_key_here
# HUMANWORK_API_KEY=irl_sk_your_key_here  # legacy alias

# API base URL for the standalone MCP server (include /api suffix)
# Default: http://localhost:3002/api
API_URL=http://localhost:3002/api


# =============================================================================
# CRYPTO / WALLET (Phase 1 â€” currently disabled)                   [Optional]
# These are used by disabled background jobs in api/services/_automated_disabled/.
# Uncomment and set if re-enabling crypto payment rails.
# =============================================================================

# Platform wallet address for receiving deposits
# PLATFORM_WALLET_ADDRESS=
# PLATFORM_WALLET_PRIVATE_KEY=
